var backgroundConnector=function(){this.cache=null,this.name=null,this.onConnect=null,this.onDisConnect=null,this.send=function(n){if(null!=this.cache){var e=this.cache;e.name==this.name&&e.postMessage(n)}},this.init=function(n){var e=this;chrome.extension.onConnect.addListener(function(t){e.cache=t,t.name==e.name&&(t.onDisconnect.addListener(function(){e.cache=null,"function"==typeof e.onDisConnect&&e.onDisConnect(t)}),t.onMessage.addListener(function(e){n(e)}),"function"==typeof e.onConnect&&e.onConnect(t),t.postMessage({act:"connected"}))})}},mainConnector=function(){this.cache=null,this.name=null,this.init=function(){var n=chrome.extension.connect({name:this.name});this.cache=n},this.send=function(n){if(null!=this.cache){var e=this.cache;e.postMessage(n)}},this.onMessage=function(n){if(null!=this.cache){var e=this.cache;e.name==this.name&&e.onMessage.addListener(function(e){n(e)})}}},Settings={};Settings.configCache={},Settings.setValue=function(n,e){var t={};return localStorage.config&&(t=JSON.parse(localStorage.config)),t[n]=e,localStorage.config=JSON.stringify(t),e},Settings.getValue=function(n,e){if(!localStorage.config)return e;var t=JSON.parse(localStorage.config);return"undefined"==typeof t[n]?e:t[n]},Settings.setCacheValue=function(n,e){return Settings.configCache[n]=e,e},Settings.getCacheValue=function(n,e){return"undefined"!=typeof Settings.configCache[n]?Settings.configCache[n]:e},Settings.keyExists=function(n){if(!localStorage.config)return!1;var e=JSON.parse(localStorage.config);return void 0!=e[n]},Settings.setObject=function(n,e){return localStorage[n]=JSON.stringify(e),e},Settings.getObject=function(n){return void 0==localStorage[n]?void 0:JSON.parse(localStorage[n])},Settings.refreshCache=function(){Settings.configCache={}};var tool={};tool.formatTime=function(n){var e=Number(n),t=0,i=0;e>60&&(t=Number(e/60),e=Number(e%60),t>60&&(i=Number(t/60),t=Number(e%60)));var o=String(parseInt(e));1==o.length&&(o="0"+o);var c=o,a=String(parseInt(t));return 1==a.length&&(a="0"+a),c=a+":"+c,i>0&&(c=""+parseInt(i)+":"+c),c};